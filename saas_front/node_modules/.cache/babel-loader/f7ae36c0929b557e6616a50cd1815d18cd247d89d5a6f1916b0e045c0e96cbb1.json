{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport dayjs from 'dayjs';\nexport default {\n  data() {\n    return {\n      list: [],\n      pageno: 1,\n      pagesize: 2,\n      total: 0\n    };\n  },\n  created() {\n    this.list = this.list.filter(item => {\n      item.voucherContent = item.voucherContent.filter(item => item.summary);\n      return item.voucherContent.length > 0;\n    });\n    this.getlist();\n  },\n  methods: {\n    cheak(row) {\n      localStorage.setItem('voucherID', row.voucherId);\n      this.$router.push('/voucher/CheckVoucher');\n    },\n    async getlist() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios({\n        url: 'http://39.107.88.156:8080/sass_finance/voucher/page',\n        method: 'get',\n        params: {\n          page: this.pageno,\n          limit: this.pagesize,\n          bookId: localStorage.getItem('bookID')\n        },\n        headers: {\n          'token': token\n        }\n      });\n      this.list = res.data.data;\n      this.total = res.data.count;\n    },\n    pagechange(pageno) {\n      console.log('00000000');\n      // 条件改变\n      this.pageno = pageno;\n      // 重新请求数据\n      this.getlist();\n    }\n  }\n};","map":{"version":3,"names":["axios","dayjs","data","list","pageno","pagesize","total","created","filter","item","voucherContent","summary","length","getlist","methods","cheak","row","localStorage","setItem","voucherId","$router","push","token","getItem","res","url","method","params","page","limit","bookId","headers","count","pagechange","console","log"],"sources":["src/views/voucher/VoucherTotal.vue"],"sourcesContent":["<template>\r\n    <el-card>\r\n        <div>\r\n            <div v-for=\"item in list\" style=\"margin-bottom: 15px;\">\r\n                <el-card>\r\n                    <div><span>{{ item.voucherWord }}</span> - <span>{{ item.voucherNumber }}</span></div>\r\n\r\n                    <el-table :data=\"item.voucherContent\" style=\"margin-top: 15px;\">\r\n                        <el-table-column label=\"摘要\" prop=\"summary\">\r\n                        </el-table-column>\r\n                        <el-table-column label=\"会计科目\" prop=\"accountingSubject\"></el-table-column>\r\n                        <el-table-column label=\"借方金额\" prop=\"debitAmount\"></el-table-column>\r\n                        <el-table-column label=\"贷方金额\" prop=\"creditAmount\"></el-table-column>\r\n                        <el-table-column label=\"操作\">\r\n                            <template #default=\"{ row }\">\r\n                                <el-button type=\"text\" size=\"small\" @click=\"cheak(item)\">查看</el-button>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </div>\r\n\r\n            <!-- 分页 -->\r\n            <el-pagination @current-change=\"pagechange\" background layout=\"prev, pager, next\" :total=\"total\"\r\n                :page-size=\"pagesize\" style=\"text-align: center; margin-top: 10px;\">\r\n            </el-pagination>\r\n        </div>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport dayjs from 'dayjs'\r\nexport default {\r\n    data() {\r\n        return {\r\n            list: [],\r\n            pageno: 1,\r\n            pagesize: 2,\r\n            total: 0,\r\n        }\r\n    },\r\n    created() {\r\n        this.list = this.list.filter(item => {\r\n            item.voucherContent = item.voucherContent.filter(item => item.summary)\r\n            return item.voucherContent.length > 0\r\n        })\r\n        this.getlist();\r\n    },\r\n    methods: {\r\n        cheak(row) {\r\n            localStorage.setItem('voucherID', row.voucherId)\r\n            this.$router.push('/voucher/CheckVoucher');\r\n        },\r\n        async getlist() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const res = await axios({\r\n                url: 'http://39.107.88.156:8080/sass_finance/voucher/page',\r\n                method: 'get',\r\n                params: {\r\n                    page: this.pageno,\r\n                    limit: this.pagesize,\r\n                    bookId: localStorage.getItem('bookID')\r\n                },\r\n                headers:{\r\n                'token':token\r\n                }\r\n            })\r\n            this.list = res.data.data;\r\n            this.total = res.data.count;\r\n        },\r\n        pagechange(pageno) {\r\n            console.log('00000000')\r\n            // 条件改变\r\n            this.pageno = pageno\r\n            // 重新请求数据\r\n            this.getlist()\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-table th.el-table__cell {\r\n    background-color: rgb(230, 244, 255);\r\n    color: black;\r\n}\r\n</style>"],"mappings":";AA+BA,OAAAA,KAAA;AACA,OAAAC,KAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,MAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAJ,IAAA,QAAAA,IAAA,CAAAK,MAAA,CAAAC,IAAA;MACAA,IAAA,CAAAC,cAAA,GAAAD,IAAA,CAAAC,cAAA,CAAAF,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAE,OAAA;MACA,OAAAF,IAAA,CAAAC,cAAA,CAAAE,MAAA;IACA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAC,MAAAC,GAAA;MACAC,YAAA,CAAAC,OAAA,cAAAF,GAAA,CAAAG,SAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACA,MAAAR,QAAA;MACA,MAAAS,KAAA,GAAAL,YAAA,CAAAM,OAAA;MACA,MAAAC,GAAA,SAAAxB,KAAA;QACAyB,GAAA;QACAC,MAAA;QACAC,MAAA;UACAC,IAAA,OAAAxB,MAAA;UACAyB,KAAA,OAAAxB,QAAA;UACAyB,MAAA,EAAAb,YAAA,CAAAM,OAAA;QACA;QACAQ,OAAA;UACA,SAAAT;QACA;MACA;MACA,KAAAnB,IAAA,GAAAqB,GAAA,CAAAtB,IAAA,CAAAA,IAAA;MACA,KAAAI,KAAA,GAAAkB,GAAA,CAAAtB,IAAA,CAAA8B,KAAA;IACA;IACAC,WAAA7B,MAAA;MACA8B,OAAA,CAAAC,GAAA;MACA;MACA,KAAA/B,MAAA,GAAAA,MAAA;MACA;MACA,KAAAS,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}