"use strict";(self["webpackChunksell_manage"]=self["webpackChunksell_manage"]||[]).push([[711],{47711:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var o=function(){var t=this,a=t._self._c;return a("div",[a("el-card",[a("el-card",[a("span",{staticStyle:{"font-size":"18px","font-weight":"bold","font-family":"'Times New Roman', Times, serif"}},[t._v("会计科目")]),a("el-popover",{attrs:{placement:"top-start",title:"常用摘要功能介绍",width:"600",trigger:"hover"}},[a("el-card",[a("span",[t._v("摘要通过简要的文字描述,迅速明确交易内容，记录与该笔交易相关的业务事项")]),a("br"),a("span",[t._v("在后续的财务核对和审计中，摘要是查找和理解交易内容的重要依据之一。")]),a("br"),a("span",[t._v("清晰的摘要有助于提高财务数据的可读性和准确性。")]),a("br")]),a("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"16px","margin-left":"10px","margin-top":"5px"},attrs:{slot:"reference"},slot:"reference"})],1)],1),a("el-card",[a("div",[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.addopen}},[t._v("新增会计科目")])],1),a("el-col",{attrs:{span:9,offset:14}},[a("el-input",{attrs:{placeholder:"请输入查询科目名称","prefix-icon":"el-icon-search"},model:{value:t.params.accountingAccount,callback:function(a){t.$set(t.params,"accountingAccount",a)},expression:"params.accountingAccount"}})],1),a("el-col",{attrs:{span:3,offset:.5}},[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.list,"header-row-class-name":t.tableHeaderClassName}},[a("el-table-column",{attrs:{prop:"id",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"accountingAccount",label:"会计科目",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function({row:e}){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.update(e)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.out(e)}}})]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pagesize},on:{"current-change":t.pagechange}})],1),a("el-dialog",{attrs:{title:"修改会计科目",visible:t.show,width:"600px"},on:{"update:visible":function(a){t.show=a}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.userFormData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"会计科目"}},[a("el-input",{attrs:{type:"textarea",placeholder:"会计科目",autosize:{minRows:4,maxRows:6}},model:{value:t.userFormData.accountingAccount,callback:function(a){t.$set(t.userFormData,"accountingAccount",a)},expression:"userFormData.accountingAccount"}})],1),a("el-form-item",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),a("el-button",{attrs:{type:"info"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"新增会计科目",visible:t.addshow,width:"600px"},on:{"update:visible":function(a){t.addshow=a}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.userFormData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"会计科目"}},[a("el-input",{attrs:{type:"textarea",placeholder:"会计科目",autosize:{minRows:4,maxRows:6}},model:{value:t.userFormData.accountingAccount,callback:function(a){t.$set(t.userFormData,"accountingAccount",a)},expression:"userFormData.accountingAccount"}})],1),a("el-form-item",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addsubmit}},[t._v("提交")]),a("el-button",{attrs:{type:"info"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1)],1)},s=[],i=e(91076),n=(e(91767),{data(){return{tableHeaderClassName:"custom-table-header",list:[],id:"",userFormData:{accountingAccount:""},pageno:1,pagesize:4,total:0,params:{accountingAccount:""},show:!1,addshow:!1}},created(){this.getList()},methods:{async getList(){const t=await(0,i.Z)({url:"http://localhost:8081//accounting/page",method:"get",params:{...this.params,page:this.pageno,limit:this.pagesize}});this.list=t.data.data,this.total=t.data.count,console.log(this.total)},search(){this.getList()},pagechange(t){this.pageno=t,this.getList()},update(t){console.log(t),this.show=!0,this.userFormData.accountingAccount=t.accountingAccount,this.id=t.id},async out(t){if("是"===t.isDefault)this.$message.warning("不能删除默认项");else{const e={id:t.id};try{await i.Z.delete("http://localhost:8081/accounting/delete",{params:e});this.$data.pageno===Math.ceil(this.total/this.pagesize)&&this.total%this.pagesize===1&&this.$data.pageno--,await this.getList()}catch(a){console.error("Error deleting:",a)}}},async submit(){const t={id:this.id,...this.userFormData};await(0,i.Z)({url:"http://localhost:8081/accounting/update",method:"post",data:t});this.getList(),this.show=!1},cancel(){this.show=!1,this.addshow=!1},async addsubmit(){const t={...this.userFormData};await(0,i.Z)({url:"http://localhost:8081/accounting/add",url:"http://localhost:8081/accounting/add",method:"post",data:t});this.getList(),this.addshow=!1},addopen(){this.addshow=!0,this.userFormData.accountingAccount=""}}}),c=n,l=e(1001),r=(0,l.Z)(c,o,s,!1,null,"4ee2433e",null),u=r.exports}}]);
//# sourceMappingURL=711.21ae0766.js.map