{"version":3,"file":"js/780.cfa92204.js","mappings":"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","sources":["webpack://sell-manage/./src/views/login/Login.vue","webpack://sell-manage/src/views/login/Login.vue","webpack://sell-manage/./src/views/login/Login.vue?e15d","webpack://sell-manage/./src/views/login/Login.vue?95ed"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-wrapper\"},[_c('div',{staticClass:\"login-form\"},[_c('h2',{staticClass:\"login-title\"},[_vm._v(\"欢迎来到智慧财务管理系统\")]),_c('el-form',{ref:\"ruleform\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{attrs:{\"suffix-icon\":\"icon-yonghu iconfont\",\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"请输入手机号/邮箱\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":_vm.showPwd ? 'text' : 'password',\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"}),_c('i',{staticClass:\"iconfont\",class:{ 'icon-yanjing': _vm.showPwd, 'icon-biyanjing': !_vm.showPwd },attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.clickEyes},slot:\"suffix\"})])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"登录\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-wrapper\">\r\n    <div class=\"login-form\">\r\n      <h2 class=\"login-title\">欢迎来到智慧财务管理系统</h2>\r\n      <!-- 表单的容器 -->\r\n      <el-form ref=\"ruleform\" :model=\"form\" :rules=\"rules\">\r\n\r\n        <!-- 用户账号 -->\r\n        <el-form-item prop=\"account\">\r\n          <!-- 该表单项的内容 -->\r\n          <el-input suffix-icon=\"icon-yonghu iconfont\" prefix-icon=\"el-icon-search\" placeholder=\"请输入手机号/邮箱\"\r\n            v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 用户密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input :type=\"showPwd ? 'text' : 'password'\" placeholder=\"请输入密码\" v-model=\"form.password\">\r\n            <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\r\n            <!-- 尾部插入图标: -->\r\n            <i slot=\"suffix\" @click=\"clickEyes\" class=\"iconfont\"\r\n              :class=\"{ 'icon-yanjing': showPwd, 'icon-biyanjing': !showPwd }\"></i>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 用户角色\r\n        <el-form-item prop=\"role\">\r\n          <el-select style=\"width: 100%;\" v-model=\"form.role\">\r\n            <el-option label=\"财务\" value=\"财务\"></el-option>\r\n            <el-option label=\"员工\" value=\"员工\"></el-option>\r\n            <el-option label=\"老板\" value=\"老板\"></el-option>\r\n          </el-select>\r\n        </el-form-item> -->\r\n\r\n        <!-- 登录按钮 -->\r\n        <el-form-item>\r\n          <el-button @click=\"submit\" style=\"width: 100%;margin-top: 10px;\" type=\"primary\">登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { addRouteByRole } from '@/router'\r\nimport { Message } from 'element-ui';\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n      // true： 展示密码  眼睛（开）  false： 展示点点点  眼睛（关）\r\n      showPwd: false,\r\n\r\n      // 表单的数据\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        // role: '',\r\n      },\r\n\r\n      // 表单的规则集: 键名： 你要对表单数据对象下的哪一个属性配置规则, 键名： 真正的规则：数组， 当你只有一个规则的时候，可以就是一个对象\r\n      rules: {\r\n        // 非空校验\r\n        content: { required: true, message: '请输入手机号/邮箱', trigger: 'change' },\r\n        password: { required: true, message: '请输入密码', trigger: 'change' },\r\n        // role:{ required: true, message: '请选择角色', trigger: 'change' }\r\n      }\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    clickEyes() {\r\n      this.showPwd = !this.showPwd\r\n    },\r\n    // 提交表单 async\r\n    async submit() {\r\n\r\n      const LoginResult = await axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:8081/admin/login\",\r\n        data: this.form,\r\n      })\r\n      // 登录成功，把用户的id和用户的角色存放到本地\r\n      if (LoginResult.data.code == 0) {\r\n        localStorage.setItem(\"bookID\", LoginResult.data.data.id);\r\n        localStorage.setItem(\"employeeDes\", LoginResult.data.data.employeeDes);\r\n        localStorage.setItem(\"employeeID\", LoginResult.data.data.id);\r\n        localStorage.setItem(\"role\", LoginResult.data.data.rname);\r\n        localStorage.setItem(\"token\", LoginResult.data.data);\r\n        // 根据角色\r\n        if (localStorage.getItem('role') == '财务') {\r\n          localStorage.setItem('name',LoginResult.data.data.employeeID)\r\n          // 等待两秒后跳转页面\r\n          Message.success('即将进入账套界面')\r\n          setTimeout(() => {\r\n            // 跳转页面\r\n            this.$router.push('/FinanceAccountBooks');\r\n          }, 2000);\r\n        }else if (localStorage.getItem('role') == '管理员') {\r\n          Message.success('即将进入门店界面')\r\n          setTimeout(() => {\r\n            // 跳转页面\r\n            this.$router.push('/Store');\r\n          }, 2000);\r\n        }else {\r\n          // localStorage.setItem('bookID', LoginResult.data.data.accountBook.bookID)\r\n          // localStorage.setItem('bookName', LoginResult.data.data.accountBook.bookName)\r\n          // localStorage.setItem('name',LoginResult.data.data.name)\r\n          localStorage.setItem('name',LoginResult.data.data.employeeID)\r\n          Message.success('即将进入员工主界面')\r\n          setTimeout(() => {\r\n            // 跳转页面\r\n            this.$router.push('/FinanceAccountBooks');\r\n          }, 2000);\r\n        }\r\n      } else {\r\n        Message.error('手机号/邮箱或密码错误')\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-wrapper {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgb(245, 245, 245);\r\n\r\n  .login-form {\r\n    width: 500px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .login-title {\r\n      margin: 20px;\r\n      font-weight: 700;\r\n      font-size: 22px;\r\n      color: black;\r\n    }\r\n\r\n    .el-form {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  ::v-deep .el-input__inner {\r\n    background-color: #fff;\r\n  }\r\n\r\n  ::v-deep .el-input input {\r\n    color: black;\r\n  }\r\n\r\n  ::v-deep .el-button--primary {\r\n    color: #FFF;\r\n    background-color:rgb(13, 110, 253);\r\n    border-color: #409EFF;\r\n}\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=00fdf4e0&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=00fdf4e0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00fdf4e0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","attrs","form","rules","model","value","username","callback","$$v","$set","expression","showPwd","password","slot","class","on","clickEyes","staticStyle","submit","staticRenderFns","data","content","required","message","trigger","methods","LoginResult","axios","method","url","code","localStorage","setItem","id","employeeDes","rname","getItem","employeeID","Message","success","setTimeout","$router","push","error","component"],"sourceRoot":""}