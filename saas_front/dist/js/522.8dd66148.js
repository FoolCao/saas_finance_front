(self["webpackChunksell_manage"]=self["webpackChunksell_manage"]||[]).push([[522],{45522:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",[e("el-card",[e("el-card",[e("span",{staticStyle:{"font-size":"18px","font-weight":"bold","font-family":"'Times New Roman', Times, serif"}},[t._v("记账列表")])]),e("el-card",[e("div",[e("el-form",{attrs:{inline:!0}},[e("div",{staticClass:"block",staticStyle:{"margin-bottom":"20px"}},[e("span",{staticClass:"demonstration",staticStyle:{"padding-right":"5px"}},[t._v("开始时间")]),e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期时间","default-time":"12:00:00"},model:{value:t.params.startTime,callback:function(e){t.$set(t.params,"startTime",e)},expression:"params.startTime"}}),e("span",{staticStyle:{"padding-right":"13px"}}),e("span",{staticClass:"demonstration",staticStyle:{"padding-right":"10px"}},[t._v("截止时间")]),e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束日期时间","default-time":"12:00:00"},model:{value:t.params.endTime,callback:function(e){t.$set(t.params,"endTime",e)},expression:"params.endTime"}})],1),e("el-form-item",{attrs:{label:"账户名称"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.params.subjectAccountName,callback:function(e){t.$set(t.params,"subjectAccountName",e)},expression:"params.subjectAccountName"}},t._l(t.subjectAccountNameList,(function(t,a){return e("el-option",{attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"摘要"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.params.summary,callback:function(e){t.$set(t.params,"summary",e)},expression:"params.summary"}},t._l(t.summaryList,(function(t,a){return e("el-option",{attrs:{label:t.summaryContent,value:t.summaryContent}})})),1)],1),e("el-form-item",{attrs:{label:"收支类别"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.params.classification,callback:function(e){t.$set(t.params,"classification",e)},expression:"params.classification"}},t._l(t.classificationList,(function(t,a){return e("el-option",{attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"会计科目"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.params.accountingSubject,callback:function(e){t.$set(t.params,"accountingSubject",e)},expression:"params.accountingSubject"}},t._l(t.accountingSubjectList,(function(t,a){return e("el-option",{attrs:{label:t.accountingAccount,value:t.accountingAccount}})})),1)],1),e("el-form-item",{attrs:{label:"制单人"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.params.maker,callback:function(e){t.$set(t.params,"maker",e)},expression:"params.maker"}},t._l(t.makerList,(function(t,a){return e("el-option",{attrs:{label:t,value:t}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.addOpen}},[t._v("新增")])],1)],1)],1),e("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.list,"header-row-class-name":t.tableHeaderClassName}},[e("el-table-column",{attrs:{prop:"id",label:"编号",align:"center"}}),e("el-table-column",{attrs:{prop:"ordinal",label:"记账序号",align:"center",width:"120px"}}),e("el-table-column",{attrs:{prop:"date",label:"记账日期",align:"center",width:"180px"}}),e("el-table-column",{attrs:{prop:"subjectAccountName",label:"账户名称",align:"center",width:"120px"}}),e("el-table-column",{attrs:{prop:"accountingSubject",label:"会计科目",align:"center",width:"120px"}}),e("el-table-column",{attrs:{prop:"summary",label:"摘要",align:"center"}}),e("el-table-column",{attrs:{prop:"classification",label:"收支类别",align:"center"}}),e("el-table-column",{attrs:{prop:"debitAmount",label:"收入(借方)",align:"center",width:"100px"}}),e("el-table-column",{attrs:{prop:"creditAmount",label:"支出(贷方)",align:"center",width:"100px"}}),e("el-table-column",{attrs:{prop:"maker",label:"制单人",align:"center"}})],1),e("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pagesize},on:{"current-change":t.pagechange}})],1),e("el-dialog",{attrs:{title:"新增记账",visible:t.addDialogFormVisible},on:{"update:visible":function(e){t.addDialogFormVisible=e}}},[e("el-form",{staticClass:"demo-form-inline",attrs:{model:t.userFormData,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"会计科目"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.userFormData.accountingSubject,callback:function(e){t.$set(t.userFormData,"accountingSubject",e)},expression:"userFormData.accountingSubject"}},t._l(t.accountingSubjectList,(function(t,a){return e("el-option",{attrs:{label:t.accountingAccount,value:t.accountingAccount}})})),1)],1),e("el-form-item",{attrs:{label:"收支类别"}},[e("el-input",{attrs:{placeholder:"收支类别"},model:{value:t.userFormData.classification,callback:function(e){t.$set(t.userFormData,"classification",e)},expression:"userFormData.classification"}})],1),e("el-form-item",{attrs:{label:"收入(借方)"}},[e("el-input",{attrs:{placeholder:"0.00"},model:{value:t.userFormData.debitAmount,callback:function(e){t.$set(t.userFormData,"debitAmount",e)},expression:"userFormData.debitAmount"}})],1),e("el-form-item",{attrs:{label:"支出(贷方)"}},[e("el-input",{attrs:{placeholder:"0.00"},model:{value:t.userFormData.creditAmount,callback:function(e){t.$set(t.userFormData,"creditAmount",e)},expression:"userFormData.creditAmount"}})],1),e("el-form-item",{attrs:{label:"摘要"}},[e("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.userFormData.summary,callback:function(e){t.$set(t.userFormData,"summary",e)},expression:"userFormData.summary"}},t._l(t.summaryList,(function(t,a){return e("el-option",{attrs:{label:t.summaryContent,value:t.summaryContent}})})),1)],1),e("el-form-item",{attrs:{label:"制单人"}},[e("el-input",{attrs:{placeholder:"制单人"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("el-form-item",{staticStyle:{"margin-top":"20px"}},[e("el-button",{staticStyle:{"margin-left":"400px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)],1)],1)],1)},r=[],n=(a(70560),a(91076)),i=a(55743),o=a.n(i),c=a(8499),l={data(){return{text:"付",name:localStorage.getItem("name"),amount:"",accountingSubject:"",subjectAccountNameList:"",summaryList:"",classificationList:"",accountingSubjectList:"",makerList:"",debitAmount:"",count:"报销金额",style:"报销类别",reason:"报销事由",note:"备注",tableHeaderClassName:"custom-table-header",list:[],categoryList:"",addDialogFormVisible:!1,userFormData:{date:o()().format("YYYY-MM-DD "),amount:"",category:""},pageno:1,pagesize:4,total:0,params:{startTime:"",endTime:"",subjectAccountName:"",summary:"",classification:"",maker:"",accountingSubject:""},bookId:6,pickerOptions:{shortcuts:[{text:"今天",onClick(t){t.$emit("pick",new Date)}},{text:"昨天",onClick(t){const e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick(t){const e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},startTime:"",endTime:""}},created(){this.bookId=localStorage.getItem("bookID"),this.getSubjectAccountNameList(),this.getSummaryList(),this.getClassificationList(),this.getMakerList(),this.getAccountingSubject(),this.getList()},methods:{async updateApprovalStatus(t){const e={reimbursementID:t.reimbursementID,isToVoucher:"是"};await(0,n.Z)({url:"http://localhost:8080/reimbursement/updateReimbursementToVarch",method:"post",data:e});localStorage.setItem("summary",this.summary),localStorage.setItem("debitAmount",t.amount),localStorage.setItem("text",this.text),c.Message.success("即将进入凭证界面"),setTimeout((()=>{this.$router.push("/voucher/Voucher?type=1")}),1e3)},async getSubjectAccountNameList(){const t=await(0,n.Z)({url:"http://localhost:8081/bookkeeping/subjectAccountNameList",method:"get",params:{bookId:this.bookId}});console.log(t.data.data),this.subjectAccountNameList=t.data.data},async getSummaryList(){const t=await(0,n.Z)({url:"http://localhost:8081/summary/findAll",method:"get",params:{bookId:this.bookId}});this.summaryList=t.data.data},async getClassificationList(){const t=await(0,n.Z)({url:"http://localhost:8081/bookkeeping/classificationList",method:"get",params:{bookId:this.bookId}});this.classificationList=t.data.data},async getMakerList(){const t=await(0,n.Z)({url:"http://localhost:8081/bookkeeping/makerList",method:"get",params:{bookId:this.bookId}});this.makerList=t.data.data},async getAccountingSubject(){const t=await(0,n.Z)({url:"http://localhost:8081/accounting/findAll",method:"get",params:{bookId:this.bookId}});this.accountingSubjectList=t.data.data},async getList(){const t=await(0,n.Z)({url:"http://localhost:8081/bookkeeping/list",method:"get",params:{...this.params,pageno:this.pageno,pagesize:this.pagesize,bookId:this.bookId}});this.list=t.data.data.map((t=>({...t,date:o()(t.date).format("YYYY-MM-DD HH:mm:ss")}))),this.total=t.data.count},search(){this.getList()},pagechange(t){this.pageno=t,this.getList()},addOpen(){this.addDialogFormVisible=!0,this.actionType="add",this.userFormData={number:"",name:"",accountingSubject:"",balance:"",bankAccount:""}},async submit(){const t={...this.userFormData};await(0,n.Z)({url:"http://localhost:8081/bookkeeping/insert",method:"post",data:t});this.addDialogFormVisible=!1,this.getList()}}},u=l,m=a(1001),d=(0,m.Z)(u,s,r,!1,null,"37209b7c",null),h=d.exports},55743:function(t){!function(e,a){t.exports=a()}(0,(function(){"use strict";var t=1e3,e=6e4,a=36e5,s="millisecond",r="second",n="minute",i="hour",o="day",c="week",l="month",u="quarter",m="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],a=t%100;return"["+t+(e[(a-20)%10]||e[a]||e[0])+"]"}},g=function(t,e,a){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(a)+t},$={s:g,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),s=Math.floor(a/60),r=a%60;return(e<=0?"+":"-")+g(s,2,"0")+":"+g(r,2,"0")},m:function t(e,a){if(e.date()<a.date())return-t(a,e);var s=12*(a.year()-e.year())+(a.month()-e.month()),r=e.clone().add(s,l),n=a-r<0,i=e.clone().add(s+(n?-1:1),l);return+(-(s+(a-r)/(n?r-i:i-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:m,w:c,d:o,D:d,h:i,m:n,s:r,ms:s,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",k={};k[y]=b;var v="$isDayjsObject",D=function(t){return t instanceof x||!(!t||!t[v])},S=function t(e,a,s){var r;if(!e)return y;if("string"==typeof e){var n=e.toLowerCase();k[n]&&(r=n),a&&(k[n]=a,r=n);var i=e.split("-");if(!r&&i.length>1)return t(i[0])}else{var o=e.name;k[o]=e,r=o}return!s&&r&&(y=r),r||!s&&y},w=function(t,e){if(D(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new x(a)},M=$;M.l=S,M.i=D,M.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function b(t){this.$L=S(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[v]=!0}var g=b.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(p);if(s){var r=s[2]-1||0,n=(s[7]||"0").substring(0,3);return a?new Date(Date.UTC(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var a=w(t);return this.startOf(e)<=a&&a<=this.endOf(e)},g.isAfter=function(t,e){return w(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<w(t)},g.$g=function(t,e,a){return M.u(t)?this[e]:this.set(a,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var a=this,s=!!M.u(e)||e,u=M.p(t),h=function(t,e){var r=M.w(a.$u?Date.UTC(a.$y,e,t):new Date(a.$y,e,t),a);return s?r:r.endOf(o)},p=function(t,e){return M.w(a.toDate()[t].apply(a.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(e)),a)},f=this.$W,b=this.$M,g=this.$D,$="set"+(this.$u?"UTC":"");switch(u){case m:return s?h(1,0):h(31,11);case l:return s?h(1,b):h(0,b+1);case c:var y=this.$locale().weekStart||0,k=(f<y?f+7:f)-y;return h(s?g-k:g+(6-k),b);case o:case d:return p($+"Hours",0);case i:return p($+"Minutes",1);case n:return p($+"Seconds",2);case r:return p($+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var a,c=M.p(t),u="set"+(this.$u?"UTC":""),h=(a={},a[o]=u+"Date",a[d]=u+"Date",a[l]=u+"Month",a[m]=u+"FullYear",a[i]=u+"Hours",a[n]=u+"Minutes",a[r]=u+"Seconds",a[s]=u+"Milliseconds",a)[c],p=c===o?this.$D+(e-this.$W):e;if(c===l||c===m){var f=this.clone().set(d,1);f.$d[h](p),f.init(),this.$d=f.set(d,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[M.p(t)]()},g.add=function(s,u){var d,h=this;s=Number(s);var p=M.p(u),f=function(t){var e=w(h);return M.w(e.date(e.date()+Math.round(t*s)),h)};if(p===l)return this.set(l,this.$M+s);if(p===m)return this.set(m,this.$y+s);if(p===o)return f(1);if(p===c)return f(7);var b=(d={},d[n]=e,d[i]=a,d[r]=t,d)[p]||1,g=this.$d.getTime()+s*b;return M.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,a=this.$locale();if(!this.isValid())return a.invalidDate||h;var s=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),n=this.$H,i=this.$m,o=this.$M,c=a.weekdays,l=a.months,u=a.meridiem,m=function(t,a,r,n){return t&&(t[a]||t(e,s))||r[a].slice(0,n)},d=function(t){return M.s(n%12||12,t,"0")},p=u||function(t,e,a){var s=t<12?"AM":"PM";return a?s.toLowerCase():s};return s.replace(f,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return M.s(e.$y,4,"0");case"M":return o+1;case"MM":return M.s(o+1,2,"0");case"MMM":return m(a.monthsShort,o,l,3);case"MMMM":return m(l,o);case"D":return e.$D;case"DD":return M.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return m(a.weekdaysMin,e.$W,c,2);case"ddd":return m(a.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(n);case"HH":return M.s(n,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(n,i,!0);case"A":return p(n,i,!1);case"m":return String(i);case"mm":return M.s(i,2,"0");case"s":return String(e.$s);case"ss":return M.s(e.$s,2,"0");case"SSS":return M.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(s,d,h){var p,f=this,b=M.p(d),g=w(s),$=(g.utcOffset()-this.utcOffset())*e,y=this-g,k=function(){return M.m(f,g)};switch(b){case m:p=k()/12;break;case l:p=k();break;case u:p=k()/3;break;case c:p=(y-$)/6048e5;break;case o:p=(y-$)/864e5;break;case i:p=y/a;break;case n:p=y/e;break;case r:p=y/t;break;default:p=y}return h?p:M.a(p)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return k[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),s=S(t,e,!0);return s&&(a.$L=s),a},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},b}(),L=x.prototype;return w.prototype=L,[["$ms",s],["$s",r],["$m",n],["$H",i],["$W",o],["$M",l],["$y",m],["$D",d]].forEach((function(t){L[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,x,w),t.$i=!0),w},w.locale=S,w.isDayjs=D,w.unix=function(t){return w(1e3*t)},w.en=k[y],w.Ls=k,w.p={},w}))}}]);
//# sourceMappingURL=522.8dd66148.js.map