"use strict";(self["webpackChunksell_manage"]=self["webpackChunksell_manage"]||[]).push([[780],{97780:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-wrapper"},[t("div",{staticClass:"login-form"},[t("h2",{staticClass:"login-title"},[e._v("欢迎来到智慧财务管理系统")]),t("el-form",{ref:"ruleform",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"account"}},[t("el-input",{attrs:{"suffix-icon":"icon-yonghu iconfont","prefix-icon":"el-icon-search",placeholder:"请输入手机号/邮箱"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:e.showPwd?"text":"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[t("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"}),t("i",{staticClass:"iconfont",class:{"icon-yanjing":e.showPwd,"icon-biyanjing":!e.showPwd},attrs:{slot:"suffix"},on:{click:e.clickEyes},slot:"suffix"})])],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)])},o=[],r=(s(70560),s(91076)),l=(s(1120),s(8499)),i={data(){return{showPwd:!1,form:{username:"",password:""},rules:{content:{required:!0,message:"请输入手机号/邮箱",trigger:"change"},password:{required:!0,message:"请输入密码",trigger:"change"}}}},methods:{clickEyes(){this.showPwd=!this.showPwd},async submit(){const e=await(0,r.Z)({method:"post",url:"http://localhost:8081/admin/login",data:this.form});0==e.data.code?(localStorage.setItem("bookID",e.data.data.id),localStorage.setItem("employeeDes",e.data.data.employeeDes),localStorage.setItem("employeeID",e.data.data.id),localStorage.setItem("role",e.data.data.rname),localStorage.setItem("token",e.data.data),"财务"==localStorage.getItem("role")?(localStorage.setItem("name",e.data.data.employeeID),l.Message.success("即将进入账套界面"),setTimeout((()=>{this.$router.push("/FinanceAccountBooks")}),2e3)):"管理员"==localStorage.getItem("role")?(l.Message.success("即将进入门店界面"),setTimeout((()=>{this.$router.push("/Store")}),2e3)):(localStorage.setItem("name",e.data.data.employeeID),l.Message.success("即将进入员工主界面"),setTimeout((()=>{this.$router.push("/FinanceAccountBooks")}),2e3))):l.Message.error("手机号/邮箱或密码错误")}}},c=i,n=s(1001),m=(0,n.Z)(c,a,o,!1,null,"00fdf4e0",null),u=m.exports}}]);
//# sourceMappingURL=780.cfa92204.js.map